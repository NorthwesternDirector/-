<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <ul id="myul" style="background-color: lightpink">
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
        <li>6</li>
        <li>7</li>
        <li>8</li>
        <li>9</li>
        <li>10</li>
    </ul>
    test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>
    test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>
    test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>
    test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>
    test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>
    test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>
    test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>
    test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>test debounce</br>
</body>
<script>
    /*事件委托*/
    var ul = document.getElementById("myul");
    ul.addEventListener("click", function(e) {
        alert(e.target.innerHTML)
    }, false)

    /*事件委托*/

    /*深拷贝*/
    function isObj(obj) {
        return (typeof obj === 'object' || typeof obj === 'function') && obj !== null
    }

    function deepCopy(obj) {
        let tempObj = Array.isArray(obj) ? [] : {}
        for (let key in obj) {
            tempObj[key] = isObj(obj[key]) ? deepCopy(obj[key]) : obj[key]
        }
        return tempObj
    }

    console.log(deepCopy(function a() {}));
    /*深拷贝*/

    /* 【sum(1,2,3).valueOf()与sum(1)(2)(3).valueOf()输出相同】 */
    function sum(...args) {
        if ([...args].length == 1) {
            let sum2 = [...args][0];
            var suum = function(y) {
                sum2 += y;

                return suum;
            }
            suum.valueOf = function() {
                return sum2;
            }
            return suum;
        } else {
            let sum1 = 0;
            for (var i = 0; i < [...args].length; i++) {
                sum1 += [...args][i];
            }
            return sum1;
        }
    }
    console.log(sum(2, 3, 4, 5).valueOf() + "-----" + sum(2)(3)(4)(5).valueOf())
        /* 【sum(1,2,3).valueOf()与sum(1)(2)(3).valueOf()输出相同】 */

    /* 函数防抖 */
    // function debounce(fn, wait) {
    //     var timeout = null; //定义一个定时器
    //     return function() {
    //         var context = this; //this指向window
    //         var args = arguments;
    //         if (timeout !== null) {
    //             clearTimeout(timeout); //清除这个定时器
    //         }
    //         timeout = setTimeout(function() {
    //             fn.apply(context, args);
    //         }, wait);
    //     }
    // }
    // // 处理函数
    // function handle() {
    //     console.log(Math.random());
    // }
    // // 滚动事件
    // window.addEventListener('scroll', debounce(handle, 1000));
    /* 函数防抖 */


    // /* 函数节流 */
    // function throttle(fn, delay) {
    //     var prev = Date.now();
    //     return function() {
    //         var context = this; //this指向window
    //         var args = arguments;
    //         var now = Date.now();
    //         if (now - prev >= delay) {
    //             fn.apply(context, args);
    //             prev = Date.now();
    //         }
    //     }
    // }

    // function handle() {
    //     console.log(Math.random());
    // }
    // window.addEventListener('scroll', throttle(handle, 1000));
    // /* 函数节流 */
</script>

</html>